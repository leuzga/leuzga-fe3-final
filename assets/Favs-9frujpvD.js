import{r as t,a as x,j as e}from"./index-EvdSoXqK.js";import{b as p,c as g}from"./Api-CjgQwKNS.js";import{C as v}from"./Card-B4Vrty7y.js";const y=()=>{const[a,i]=t.useState([]),[r,o]=t.useState(!1),l=x(),{loading:c,error:n}=p();t.useEffect(()=>{const s=JSON.parse(localStorage.getItem("favorites"))||[];i(s)},[]);const m=t.useCallback(s=>{const d=a.filter(h=>h.id!==s);localStorage.setItem("favorites",JSON.stringify(d)),i(d)},[a]),u=t.useCallback(()=>{g(),i([]),o(!0)},[]);return t.useEffect(()=>{let s;return r&&(s=setTimeout(()=>{o(!1),l("/")},3e3)),()=>clearTimeout(s)},[r,l]),e.jsxs("div",{className:"content-page-favs",style:{marginTop:"70px"},children:[e.jsx("h1",{children:"Dentists Favorites"}),e.jsx("nav",{className:"alineaBtn",children:e.jsx("button",{onClick:u,className:"button-favs",disabled:a.length===0,children:"Clear Favorites"})}),r&&e.jsx("p",{children:"Local storage esta siendo limpiado. Se redireccionarÃ¡ a la pagina principal en 3 segundos..."}),c&&e.jsx("div",{children:a.length===0?"No hay dentistas favoritos en este momento":e.jsxs("div",{style:{width:"100%",height:"100px",display:"flex",justifyContent:"center"},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",style:{width:"300px",height:"100px"},children:[e.jsx("circle",{fill:"#ECAB01",stroke:"#ECAB01",strokeWidth:"15",r:"15",cx:"40",cy:"65",children:e.jsx("animate",{attributeName:"cy",calcMode:"spline",dur:"2",values:"65;135;65;",keySplines:".5 0 .5 1;.5 0 .5 1",repeatCount:"indefinite",begin:"-.4"})}),e.jsx("circle",{fill:"#ECAB01",stroke:"#ECAB01",strokeWidth:"15",r:"15",cx:"100",cy:"65",children:e.jsx("animate",{attributeName:"cy",calcMode:"spline",dur:"2",values:"65;135;65;",keySplines:".5 0 .5 1;.5 0 .5 1",repeatCount:"indefinite",begin:"-.2"})}),e.jsx("circle",{fill:"#ECAB01",stroke:"#ECAB01",strokeWidth:"15",r:"15",cx:"160",cy:"65",children:e.jsx("animate",{attributeName:"cy",calcMode:"spline",dur:"2",values:"65;135;65;",keySplines:".5 0 .5 1;.5 0 .5 1",repeatCount:"indefinite",begin:"0"})})]}),e.jsx("h1",{children:"Loading..."})]})}),n&&e.jsxs("div",{children:["Error: ",n]}),!c&&!n&&e.jsx("div",{className:"cardContainer",children:a.map(s=>e.jsx(v,{id:s.id,name:s.name,username:s.username,website:s.website,onDeleteFromFavorites:m,isFavorite:!0,messageBtn:"Remove from favorites"},s.id))})]})};export{y as default};
