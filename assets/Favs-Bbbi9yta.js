import{r as a,T as x,a as f,j as s,g as j}from"./index-BQQnG_C6.js";import{b as F,c as C}from"./Api-CFu4U8OU.js";import{C as N}from"./Card-B7JakbIu.js";const w=()=>{const{theme:m}=a.useContext(x),{cardContainer:g,botonNav:v}=j(m),[t,r]=a.useState([]),[o,n]=a.useState(!1),c=f(),{loading:l,error:i}=F();a.useEffect(()=>{const e=JSON.parse(localStorage.getItem("favorites"))||[];r(e)},[]);const u=a.useCallback(e=>{const d=t.filter(h=>h.id!==e);localStorage.setItem("favorites",JSON.stringify(d)),r(d)},[t]),p=a.useCallback(()=>{C(),r([]),n(!0)},[]);return a.useEffect(()=>{let e;return o&&(e=setTimeout(()=>{n(!1),c("/")},3e3)),()=>clearTimeout(e)},[o,c]),s.jsxs("div",{className:"content-page-favs",style:{marginTop:"70px"},children:[s.jsx("h1",{children:"Dentists Favorites"}),s.jsx("nav",{className:"alineaBtn",children:s.jsx("button",{onClick:p,className:v,children:"Clear Favorites"})}),o&&s.jsx("p",{children:"Local storage esta siendo limpiado. Se redireccionarÃ¡ a la pagina principal en 3 segundos..."}),s.jsx("div",{className:"card-grid",children:s.jsx("div",{className:"content-page-home",children:s.jsxs("div",{className:g,children:[l&&s.jsx("div",{children:"Loading..."}),i&&s.jsxs("div",{children:["Error: ",i]}),!l&&!i&&t.map(e=>s.jsx("div",{className:"card-wrapper",children:s.jsx(N,{id:e.id,name:e.name,username:e.username,website:e.website,onDeleteFromFavorites:u,isFavorite:!0,messageBtn:"Remove from favorites"})},e.id))]})})})]})};export{w as default};
