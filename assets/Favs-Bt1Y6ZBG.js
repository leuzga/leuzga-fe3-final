import{r as a,a as v,j as s}from"./index-brbWD37S.js";import{b as f,c as p}from"./Api-C_rPc_3J.js";import{C as h}from"./Card-DxRLHC-9.js";const S=()=>{const[t,r]=a.useState([]),[o,n]=a.useState(!1),l=v(),{loading:c,error:i}=f();a.useEffect(()=>{const e=JSON.parse(localStorage.getItem("favorites"))||[];r(e)},[]);const m=a.useCallback(e=>{const d=t.filter(g=>g.id!==e);localStorage.setItem("favorites",JSON.stringify(d)),r(d)},[t]),u=a.useCallback(()=>{p(),r([]),n(!0)},[]);return a.useEffect(()=>{let e;return o&&(e=setTimeout(()=>{n(!1),l("/")},3e3)),()=>clearTimeout(e)},[o,l]),s.jsxs("div",{className:"content-page-favs",style:{marginTop:"70px"},children:[s.jsx("h1",{children:"Dentists Favorites"}),s.jsx("nav",{className:"alineaBtn",children:s.jsx("button",{onClick:u,className:"button-favs",disabled:t.length===0,children:"Clear Favorites"})}),o&&s.jsx("p",{children:"Local storage esta siendo limpiado. Se redireccionarÃ¡ a la pagina principal en 3 segundos..."}),c&&s.jsx("div",{children:t.length===0?"No hay dentistas favoritos en este momento":"Loading..."}),i&&s.jsxs("div",{children:["Error: ",i]}),!c&&!i&&s.jsx("div",{className:"cardContainer",children:t.map(e=>s.jsx(h,{id:e.id,name:e.name,username:e.username,website:e.website,onDeleteFromFavorites:m,isFavorite:!0,messageBtn:"Remove from favorites"},e.id))})]})};export{S as default};
