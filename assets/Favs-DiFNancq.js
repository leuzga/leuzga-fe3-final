import{r as a,a as g,j as s,P as f}from"./index-C1IxzBvU.js";import{b as p,c as h}from"./Api-C3a1PsrQ.js";import{C as x}from"./Card-CV9jBsQg.js";const b=()=>{const[t,r]=a.useState([]),[o,n]=a.useState(!1),l=g(),{loading:c,error:i}=p();a.useEffect(()=>{const e=JSON.parse(localStorage.getItem("favorites"))||[];r(e)},[]);const m=a.useCallback(e=>{const d=t.filter(v=>v.id!==e);localStorage.setItem("favorites",JSON.stringify(d)),r(d)},[t]),u=a.useCallback(()=>{h(),r([]),n(!0)},[]);return a.useEffect(()=>{let e;return o&&(e=setTimeout(()=>{n(!1),l("/")},3e3)),()=>clearTimeout(e)},[o,l]),s.jsxs("div",{className:"content-page-favs",style:{marginTop:"70px"},children:[s.jsx("h1",{children:"Dentists Favorites"}),s.jsx("nav",{className:"alineaBtn",children:s.jsx("button",{onClick:u,className:"button-favs",disabled:t.length===0,children:"Clear Favorites"})}),o&&s.jsx("p",{children:"Local storage esta siendo limpiado. Se redireccionarÃ¡ a la pagina principal en 3 segundos..."}),c&&s.jsx("div",{children:t.length===0?"No hay dentistas favoritos en este momento":s.jsx(f,{})}),i&&s.jsxs("div",{children:["Error: ",i]}),!c&&!i&&s.jsx("div",{className:"cardContainer",children:t.map(e=>s.jsx(x,{id:e.id,name:e.name,username:e.username,website:e.website,onDeleteFromFavorites:m,isFavorite:!0,messageBtn:"Remove from favorites"},e.id))})]})};export{b as default};
